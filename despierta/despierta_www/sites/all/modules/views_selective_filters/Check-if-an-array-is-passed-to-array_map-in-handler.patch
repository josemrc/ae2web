From 89a537f4a496e9a9b089db099429785d222622c4 Mon Sep 17 00:00:00 2001
From: Xavier Carriba <Xavier.Carriba@ubm.com>
Date: Mon, 3 Aug 2015 11:21:26 +0100
Subject: [PATCH] Check if an array is passed to array_map in handler query
 method

---
 views_handler_filter_selective.inc | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/views_handler_filter_selective.inc b/views_handler_filter_selective.inc
index a72bd27..daa30b7 100644
--- a/views_handler_filter_selective.inc
+++ b/views_handler_filter_selective.inc
@@ -193,7 +193,9 @@ class views_handler_filter_selective extends views_handler_filter_in_operator {
       return;
     }
     // Decode the values to restore special chars.
-    $this->value = array_map('urldecode', $this->value);
+    if (is_array($this->value)) {
+      $this->value = array_map('urldecode', $this->value);
+    }
     parent::query();
   }
   
-- 
1.9.5 (Apple Git-50.3)

